<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>PCAPIFY | Anomaly Detection Dashboard</title>

<style>
*{box-sizing:border-box}

body{
    margin:0;
    font-family:"Segoe UI", Arial;
    background:radial-gradient(circle at top, #120000, #000);
    color:#ffd6d6;
}

/* Layout */
.wrapper{
    display:flex;
    min-height:100vh;
}

/* Sidebar */
.sidebar{
    width:230px;
    background:#080000;
    padding:20px;
    border-right:1px solid #ff1a1a;
}
.sidebar h2{
    color:#ff3333;
    text-align:center;
    margin-bottom:30px;
}
.sidebar a{
    display:block;
    color:#ffb3b3;
    padding:12px;
    margin:8px 0;
    text-decoration:none;
    border-radius:6px;
}
.sidebar a:hover{
    background:#ff1a1a;
    color:#000;
}

/* Main Content */
.main{
    flex:1;
    padding:20px;
}

/* Top Dashboard */
.top-dashboard{
    background:#140000;
    padding:20px;
    border-radius:10px;
    margin-bottom:20px;
    border:1px solid #330000;
}
.top-dashboard h2{
    color:#ff3333;
    margin:0;
}

/* Cards */
.card{
    background:#140000;
    padding:20px;
    border-radius:10px;
    margin-bottom:20px;
    border:1px solid #330000;
}
.card h2{
    color:#ff3333;
}

/* Buttons */
button{
    background:#ff1a1a;
    color:#000;
    border:none;
    padding:10px 25px;
    border-radius:6px;
    cursor:pointer;
    font-weight:bold;
}
button:hover{
    background:#cc0000;
}

/* Inputs */
input{
    width:100%;
    padding:10px;
    margin:10px 0;
    background:#080000;
    color:#ff9999;
    border:1px solid #ff1a1a;
    border-radius:6px;
}

/* Threat style */
.threat{
    background:#1a0000;
    color:#ff4d4d;
    margin:10px 0;
    padding:14px;
    border-radius:8px;
    border-left:4px solid #ff0000;
}

/* Utility */
.hidden{display:none}
.center{
    max-width:400px;
    margin:100px auto;
}
</style>
</head>

<body>

<!-- LOGIN PAGE -->
<div id="loginPage" class="center card">
    <h2>üîê PCAPIFY Login</h2>
    <input type="text" id="username" placeholder="Username">
    <input type="password" id="password" placeholder="Password">
    <button onclick="login()">Login</button>
</div>

<!-- MAIN APP -->
<div id="app" class="wrapper hidden">

    <!-- Sidebar -->
    <div class="sidebar">
        <h2>üî¥ PCAPIFY</h2>
        <a href="#" onclick="showPage('dashboard')">Dashboard</a>
        <a href="#" onclick="showPage('upload')">Upload PCAP</a>
        <a href="#" onclick="showPage('results')">Threat Results</a>
        <a href="#" onclick="showPage('about')">About</a>
        <a href="#" onclick="logout()">Logout</a>
    </div>

    <!-- Main -->
    <div class="main">

        <!-- TOP DASHBOARD -->
        <div id="dashboard" class="top-dashboard">
            <h2>Cyber Threat Monitoring Dashboard</h2>
            <p>
                Monitoring PCAP traffic for suspicious and malicious activity
                in real-time SOC-like environment.
            </p>
        </div>

        <!-- Upload -->
        <div id="upload" class="card hidden">
            <h2>Upload PCAP File</h2>
            <input type="file" id="pcapFile" accept=".pcap">
            <button onclick="analyze()">Start Analysis</button>
        </div>

        <!-- Results -->
        <div id="results" class="card hidden">
            <h2>Detected Threats</h2>
            <div id="threatList"></div>
        </div>

        <!-- About -->
        <div id="about" class="card hidden">
            <h2>About PCAPIFY</h2>
            <p>
                PCAPIFY is a frontend simulation of a PCAP anomaly detection
                system used to visualize suspicious network traffic.
            </p>
            <ul>
                <li>Packet-level traffic inspection</li>
                <li>Anomaly & intrusion detection simulation</li>
                <li>SOC-style alert visualization</li>
                <li>Cyber security education & demos</li>
            </ul>
        </div>

    </div>
</div>

<script>
function login(){
    const u=document.getElementById("username").value;
    const p=document.getElementById("password").value;
    if(u && p){
        document.getElementById("loginPage").classList.add("hidden");
        document.getElementById("app").classList.remove("hidden");
    }else{
        alert("Enter username and password");
    }
}

function logout(){
    location.reload();
}

function showPage(id){
    document.querySelectorAll('.card').forEach(c=>{
        c.classList.add('hidden');
    });
    document.getElementById(id).classList.remove('hidden');
}

function analyze(){
    const file=document.getElementById("pcapFile").files[0];
    if(!file){
        alert("Please upload a PCAP file");
        return;
    }

    const list=document.getElementById("threatList");
    list.innerHTML="";
    let found=false;

    for(let i=1;i<=12;i++){
        if(Math.random()<0.4){
            found=true;
            const div=document.createElement("div");
            div.className="threat";
            div.innerText="‚ö† Critical threat detected at packet "+i;
            list.appendChild(div);
        }
    }

    if(!found){
        list.innerHTML="<p>‚úî No threats detected</p>";
    }

    showPage("results");
}
</script>

</body>
</html>
